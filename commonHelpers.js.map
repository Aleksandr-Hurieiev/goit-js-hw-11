{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay.js","../src/js/render-functions.js"],"sourcesContent":["import { options } from './render-functions';\n//=========================================================================================================================================\nexport default function makeRequest(data) {\n  // -------------------------------\n  return fetch(\n    `https://pixabay.com/api/?key=${options.key}&q=${options.q}&image_type${options.image_type}&orientation=${options.orientation}&safesearch=${options.safesearch}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      // Data handling\n      return data\n    });\n}\n\n//=========================================================================================================================================\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n//=========================================================================================================================================\n\nimport makeRequest from './pixabay';\nexport const options = {\n  key: '44329356-b9318945d135833e2eb07a97b',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n//=========================================================================================================================================\nconst list = document.querySelector('.list');\nconst form = document.querySelector('.form_js');\nform.addEventListener('submit', oncCread);\n//=========================================================================================================================================\n\nfunction oncCread(data) {\n  data.preventDefault();\n  const search = data.target[0].value;\n  options.q = search;\n  makeRequest()\n    .then(users => {\n      if (users.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      renderUser(users);\n    })\n    .catch(error => {});\n  form.reset();\n}\n//=========================================================================================================================================\n\nfunction renderUser(users) {\n  console.log(users);\n  const markup = users.hits\n    .map(user => {\n      console.log(user);\n      return `<li class=\"list__item\">\n    <img class=\"list__img\" src=\"${user.pageURL}\" alt=\"${user.id}\" />\n    <ul class=\"item__list\">\n      <li class=\"item__list-item\">\n        <h3 class=\"item__list-title\">Likes</h3>\n        <p class=\"item__list-text\">${likes}</p>\n      </li>\n      <li class=\"item__list-item\">\n        <h3 class=\"item__list-title\">Views</h3>\n        <p class=\"item__list-text\">${user.views}</p>\n      </li>\n      <li class=\"item__list-item\">\n        <h3 class=\"item__list-title\">Comments</h3>\n        <p class=\"item__list-text\">${user.comments}</p>\n      </li>\n      <li class=\"item__list-item\">\n        <h3 class=\"item__list-title\">Downloads</h3>\n        <p class=\"item__list-text\">${user.downloads}</p>\n      </li>\n    </ul>\n  </li>`;\n    })\n    .join(\"\");\n    console.log(markup);\n  list.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["makeRequest","data","options","response","list","form","oncCread","search","users","iziToast","renderUser","error","markup","user"],"mappings":"svBAEe,SAASA,EAAYC,EAAM,CAExC,OAAO,MACL,gCAAgCC,EAAQ,GAAG,MAAMA,EAAQ,CAAC,cAAcA,EAAQ,UAAU,gBAAgBA,EAAQ,WAAW,eAAeA,EAAQ,UAAU,EAC/J,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKF,GAEGA,CACR,CACL,CCZO,MAAMC,EAAU,CACrB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAO,SAAS,cAAc,UAAU,EAC9CA,EAAK,iBAAiB,SAAUC,CAAQ,EAGxC,SAASA,EAASL,EAAM,CACtBA,EAAK,eAAc,EACnB,MAAMM,EAASN,EAAK,OAAO,CAAC,EAAE,MAC9BC,EAAQ,EAAIK,EACZP,EAAa,EACV,KAAKQ,GAAS,CACTA,EAAM,KAAK,SAAW,GACxBC,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EAEHC,EAAWF,CAAK,CACtB,CAAK,EACA,MAAMG,GAAS,CAAA,CAAE,EACpBN,EAAK,MAAK,CACZ,CAGA,SAASK,EAAWF,EAAO,CACzB,QAAQ,IAAIA,CAAK,EACjB,MAAMI,EAASJ,EAAM,KAClB,IAAIK,IACH,QAAQ,IAAIA,CAAI,EACT;AAAA,kCACqBA,EAAK,OAAO,UAAUA,EAAK,EAAE;AAAA;AAAA;AAAA;AAAA,qCAI1B,KAAK;AAAA;AAAA;AAAA;AAAA,qCAILA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,qCAIbA,EAAK,SAAS;AAAA;AAAA;AAAA,SAI9C,EACA,KAAK,EAAE,EACR,QAAQ,IAAID,CAAM,EACpBR,EAAK,mBAAmB,YAAaQ,CAAM,CAC7C"}