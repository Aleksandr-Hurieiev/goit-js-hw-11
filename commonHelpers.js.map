{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function makeRequest(data) {\n  const { key, q, image_type, orientation, safesearch, per_page } = data;\n  // -------------------------------\n  return fetch(\n    `https://pixabay.com/api/?key=${key}&q=${q}&image_type${image_type}&orientation=${orientation}&safesearch=${safesearch}&per_page=${per_page}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    document\n      .querySelector('.form__button')\n      .classList.remove('form__button-active');\n    document.querySelector('.form__button').disabled = false;\n    document.querySelector('.form__input').disabled = false;\n    document.querySelector('#loader').classList.remove('loader');\n    return response.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const list = document.querySelector('#list-js');\n\nexport default function renderUser(users) {\n  console.dir(users);\n  const markup = users.hits\n    .map(user => {\n      return `<li class=\"list__item\">\n                <div class=\"gallery\">\n          <a href=\"${user.webformatURL}\"><img class=\"list__img\" src=\"${user.webformatURL}\" alt=\"${user.id}\"</a>\n      </div>\n    <ul class=\"item__list\">\n      <li class=\"item__list-item\">\n        <h3 class=\"item__list-title\">Likes</h3>\n        <p class=\"item__list-text\">${user.likes}</p>\n      </li>\n      <li class=\"item__list-item\">\n        <h3 class=\"item__list-title\">Views</h3>\n        <p class=\"item__list-text\">${user.views}</p>\n      </li>\n      <li class=\"item__list-item\">\n        <h3 class=\"item__list-title\">Comments</h3>\n        <p class=\"item__list-text\">${user.comments}</p>\n      </li>\n      <li class=\"item__list-item\">\n        <h3 class=\"item__list-title\">Downloads</h3>\n        <p class=\"item__list-text\">${user.downloads}</p>\n      </li>\n    </ul>\n  </li>`;\n    })\n    .join('');\n  list.insertAdjacentHTML('beforeend', markup);\n  let gallery = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  gallery.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport makeRequest from './js/pixabay.js';\nimport renderUser from './js/render-functions.js';\nimport { list } from './js/render-functions.js';\n\n//=========================================================================================================================================\n\nexport const param = {\n  key: '44329356-b9318945d135833e2eb07a97b',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  per_page: 30,\n};\n//=========================================================================================================================================\n\nconst form = document.querySelector('.form_js');\nform.addEventListener('submit', createData);\n\n//=========================================================================================================================================\n\nfunction createData(data) {\n  data.preventDefault();\n  document.querySelector('#loader').classList.add('loader');\n  document.querySelector('.form__button').classList.add('form__button-active');\n  document.querySelector('.form__input').disabled = true;\n  document.querySelector('.form__button').disabled = true;\n  list.innerHTML = '';\n  const search = data.target[0].value;\n  param.q = search;\n  setTimeout(() => {\n    makeRequest(param)\n      .then(users => {\n        if (users.hits.length === 0) {\n          iziToast.error({\n            position: 'topRight',\n            title: 'Error',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        } else renderUser(users);\n      })\n      .catch(error => {\n        iziToast.error({\n          title: `${error}`,\n          message: 'Page not found',\n          position: 'topRight',\n        });\n      });\n  }, 1000);\n  form.reset();\n}\n//=========================================================================================================================================\n"],"names":["makeRequest","data","key","q","image_type","orientation","safesearch","per_page","response","list","renderUser","users","markup","user","SimpleLightbox","param","form","createData","search","iziToast","error"],"mappings":"6vBAAe,SAASA,EAAYC,EAAM,CACxC,KAAM,CAAE,IAAAC,EAAK,EAAAC,EAAG,WAAAC,EAAY,YAAAC,EAAa,WAAAC,EAAY,SAAAC,CAAU,EAAGN,EAElE,OAAO,MACL,gCAAgCC,CAAG,MAAMC,CAAC,cAAcC,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,aAAaC,CAAQ,EAC/I,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,gBACG,cAAc,eAAe,EAC7B,UAAU,OAAO,qBAAqB,EACzC,SAAS,cAAc,eAAe,EAAE,SAAW,GACnD,SAAS,cAAc,cAAc,EAAE,SAAW,GAClD,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,EACpDA,EAAS,MACpB,CAAG,CACH,CCdO,MAAMC,EAAO,SAAS,cAAc,UAAU,EAEtC,SAASC,EAAWC,EAAO,CACxC,QAAQ,IAAIA,CAAK,EACjB,MAAMC,EAASD,EAAM,KAClB,IAAIE,GACI;AAAA;AAAA,qBAEQA,EAAK,YAAY,iCAAiCA,EAAK,YAAY,UAAUA,EAAK,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKpEA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,qCAIbA,EAAK,SAAS;AAAA;AAAA;AAAA,QAI9C,EACA,KAAK,EAAE,EACVJ,EAAK,mBAAmB,YAAaG,CAAM,EAC7B,IAAIE,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAClB,CAAG,EACO,QAAO,CACjB,CChCO,MAAMC,EAAQ,CACnB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACZ,EAGMC,EAAO,SAAS,cAAc,UAAU,EAC9CA,EAAK,iBAAiB,SAAUC,CAAU,EAI1C,SAASA,EAAWhB,EAAM,CACxBA,EAAK,eAAc,EACnB,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,EACxD,SAAS,cAAc,eAAe,EAAE,UAAU,IAAI,qBAAqB,EAC3E,SAAS,cAAc,cAAc,EAAE,SAAW,GAClD,SAAS,cAAc,eAAe,EAAE,SAAW,GACnDQ,EAAK,UAAY,GACjB,MAAMS,EAASjB,EAAK,OAAO,CAAC,EAAE,MAC9Bc,EAAM,EAAIG,EACV,WAAW,IAAM,CACflB,EAAYe,CAAK,EACd,KAAKJ,GAAS,CACTA,EAAM,KAAK,SAAW,EACxBQ,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QACE,0EACd,CAAW,EACIT,EAAWC,CAAK,CAC/B,CAAO,EACA,MAAMS,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,GAAGC,CAAK,GACf,QAAS,iBACT,SAAU,UACpB,CAAS,CACT,CAAO,CACJ,EAAE,GAAI,EACPJ,EAAK,MAAK,CACZ"}